{"version":3,"sources":["app/components/CleanPage/PanelControl/HeaderControl.js","app/components/CleanPage/PanelControl/PanelControl.js","app/components/CleanPage/PublicGroup/PublicInfo.js","app/components/CleanPage/PublicGroup/ProgressBar.js","app/components/CleanPage/PublicGroup/PublicAvatar.js","app/components/CleanPage/InputModal.js","services/services.api.js","store/reducers/reducer.clean.js","store/reducers/reducer.root.js","store/index.js","app/components/CleanPage/PublicGroup/Public.js","app/components/CleanPage/PublicGroup/AddPublicButton.js","app/components/CleanPage/VideoGuide.js","app/components/CleanPage/PublicGroup/GroupsModal/Group.js","app/components/CleanPage/PublicGroup/GroupsModal/GroupsModal.js","app/components/CleanPage/CleanPage.js","app/components/TopBar.js","app/components/AddMoneyPage/AddMoneyPage.js","app/components/FeedbackPage/FeedbackPage.js","app/App.js","index.js"],"names":["HeaderControl","_this$props","this","props","text","children","onClick","style","react_default","a","createElement","className","Component","PanelControl","_this","PanelControl_HeaderControl","visibility","fa","onCleanClick","PublicInfo","_Component","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","key","value","Fragment","peopleCount","onStartClean","xmlns","width","height","viewBox","fill","stroke","stroke-width","stroke-linecap","stroke-linejoin","d","cx","cy","r","x1","y1","x2","y2","deletedPeople","ProgressBar","status","concat","progress","React","PublicAvatar","src","url","alt","InputModal","call","state","setState","swal","setActionValue","_this2","target","rel","href","type","placeholder","onChange","e","changeText","VK","window","API_URL","API","getUserGroups","getGroupsPromise","getGroupsForClean","axios","get","params","user_vk_id","user_id","auth_key","getGroupDogsCount","groupID","id","deleteGroupFromCleanQue","backEndID","console","log","delete","addGroupToCleanAndGetItData","publicID","post","vk_id","startCleanTask","public_ids","getCleaningTasks","getFreshPublic","public_id","setAccessToken","token","patch","access_token","Promise","resolve","reject","init","api","filter","extended","fields","v","data","groups","normalizeVKGroupsData","response","items","array","map","converter","item","avatar_url","photo_100","name","GET_USER_GROUPS","Load","Loaded","Errors","ADD_GROUP_IN_CLEAN_QUE","GET_GROUPS_FOR_CLEAN","initialState","loadingUserGroups","loadingCleanTasks","errors","cleanAllGroups","cb","allGroups","dispatch","groupsIDs","g","then","res","error","getAccessTokenFromUser","showNotEnoughMoneyModal","myInterval","setInterval","cleanTasks","payload","length","showCommentAlert","clearInterval","AddGroupInCleanQue","groupData","dogsCount","dogs_count","cleanGroupByID","DeleteGroupFromCleanQue","GetGroupsForCleanAndUserGroups","startLoading","groupsForClean","loadingProperty","title","icon","button","wrapper","document","ReactDOM","render","InputModal_InputModal","el","firstChild","content","buttons","confirm","link","slice","indexOf","money","combineReducers","clean","undefined","action","objectSpread","forEach","group","inCleanQue","isLoadingInfo","cleanData","isCleaning","settedGroups","settedGroup","cleanTask","userGroups","groupsSetted","userGroup","dogs","followers","toggledGroups","_action$payload","groupWithData","_action$payload2","groupWithDogs","withCleanTask","allGroupsWithClean","history","createBrowserHistory","middleware","thunk","logger","devToolsExtension","enhancers","push","composedEnhancers","compose","applyMiddleware","store","createStore","rootReducer","Public","PublicAvatar_PublicAvatar","ProgressBar_ProgressBar","PublicInfo_PublicInfo","connect","bindActionCreators","AddPublicButton","VideoGuide","frameBorder","allowFullScreen","Group","GroupsModal","querySelector","scrollHeight","close","GroupsModal_Group","CLEAN_TASK_ERRORS","CleanPage","publics","redirect","isAddGroupOpen","renderGroups","CleanPage_PublicGroup_Public","assign","toggleModal","setCleaningStateOnGroupByID","startCleanTasks","accessToken","timerId","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","updateCleanTasks","updateBalance","stop","getPublicIds","setCleaningStateOnPublics","setGroups","_callee3","_context3","_this3","includes","getAccessTokenFromLink","getCleanTasks","publik","refreshPublicById","addCleanTaskToGroups","publicId","freshPublic","onClean","_callee10","_context10","_this4","startCleanPublicById","freshPublicIndex","findIndex","find","CleanPage_PanelControl_PanelControl","AddPublicButton_AddPublicButton","PublicGroup_GroupsModal_GroupsModal","Redirect","to","_ref4","TopBar","NavLink","balance","AddMoneyPage","method","htmlFor","autoComplete","FeedbackPage","Widgets","Comments","limit","attach","getQueryParam","param","query","location","search","substring","urlParams","vars","split","i","pair","Error","Sentry","dsn","process","App","newBalance","errorInfo","scope","keys","setExtra","getUserBalance","setBalance","Router","basename","react","components_TopBar","Switch","Route","exact","path","components_CleanPage_CleanPage","bind","component","components_AddMoneyPage_AddMoneyPage","es","app_App","getElementById"],"mappings":"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","file":"static/js/main.6b3ef499.chunk.js","sourcesContent":["import React, {Component} from 'react'\r\n\r\nclass HeaderControl extends Component {\r\n    render() {\r\n        const {text, children, onClick, style} = this.props\r\n        return (\r\n            <div\r\n                className=\"header-control\"\r\n                onClick={() => onClick()}\r\n                style={style}\r\n            >\r\n                <div className=\"header-control__icon\">{children}</div>\r\n                <span>{text}</span>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default HeaderControl\r\n","import React, {Component} from 'react'\r\nimport HeaderControl from './HeaderControl'\r\nimport {FaSync, FaTrashAlt, FaBroom} from 'react-icons/fa'\r\nclass PanelControl extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"panel-control\">\r\n                <HeaderControl text=\"Обновить\" style={{visibility: 'hidden'}}>\r\n                    <FaSync />\r\n                </HeaderControl>\r\n                <HeaderControl\r\n                    text=\"Очистить все\"\r\n                    onClick={() => this.props.onCleanClick()}\r\n                >\r\n                    <FaBroom />\r\n                </HeaderControl>\r\n                <HeaderControl text=\"Удалить\" style={{visibility: 'hidden'}}>\r\n                    <FaTrashAlt />\r\n                </HeaderControl>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default PanelControl\r\n","import React, {Component} from 'react'\r\nimport {FaBroom, FaUsers} from 'react-icons/fa'\r\nimport * as PropTypes from 'prop-types'\r\nimport HeaderControl from '../PanelControl/HeaderControl'\r\n\r\nexport class PublicInfo extends Component {\r\n    render() {\r\n        return <>\r\n            <div className=\"public__info__container public__info--all\">\r\n                <FaUsers/>\r\n                {this.props.peopleCount}\r\n            </div>\r\n            <div className=\"public__info__container\">\r\n                <HeaderControl\r\n                    text=\"Очистить\"\r\n                    onClick={() => this.props.onStartClean()}\r\n                >\r\n                    <FaBroom />\r\n                </HeaderControl>\r\n            </div>\r\n            <div className=\"public__info__container public__info--deleted\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\"\r\n                     stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\r\n                     className=\"feather feather-user-x\">\r\n                    <path d=\"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2\"></path>\r\n                    <circle cx=\"8.5\" cy=\"7\" r=\"4\"></circle>\r\n                    <line x1=\"18\" y1=\"8\" x2=\"23\" y2=\"13\"></line>\r\n                    <line x1=\"23\" y1=\"8\" x2=\"18\" y2=\"13\"></line>\r\n                </svg>\r\n                {this.props.deletedPeople}\r\n            </div>\r\n        </>\r\n    }\r\n}\r\n\r\nPublicInfo.propTypes = {\r\n    peopleCount: PropTypes.any,\r\n    deletedPeople: PropTypes.any\r\n}","import React from 'react'\r\nimport './ProgressBar.css'\r\n\r\nclass ProgressBar extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className=\"progress-position\">\r\n                <span className={'progress-status'}>{this.props.status}</span>\r\n                <div className=\"progress\">\r\n                    <div\r\n                        className=\"progress-bar main-progress-bar\"\r\n                        style={{width: `${this.props.progress}%`}}\r\n                    >\r\n                        <span className=\"percent\">{this.props.progress}%</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport {ProgressBar}\r\n","import React, {Component} from 'react'\r\n\r\nexport class PublicAvatar extends Component {\r\n    render() {\r\n        return <img\r\n            className=\"public__heading__img\"\r\n            src={this.props.url}\r\n            alt=\"pub img\"\r\n        />\r\n    }\r\n}","import React from 'react'\r\nimport swal from 'sweetalert'\r\nimport './InputModal.css'\r\n\r\nconst OAUTH_LINK =\r\n    'https://oauth.vk.com/authorize?client_id=6726221&redirect_uri=https://oauth.vk.com/blank.html&display=page&response_type=token&v=5.85&scope=groups,offline'\r\nconst PLACEHOLDER_ACCESS_TOKEN = 'https://oauth.vk.com/blank.html#access_token=1383bc6d5df7bf74655b531297c71617b2345687ca&expires_in=0&user_id=159204098'\r\n\r\nclass InputModal extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {text: ''}\r\n    }\r\n\r\n    changeText(text) {\r\n        this.setState({text: text})\r\n        swal.setActionValue(text)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"modal__text\">\r\n                    <p>Нет доступа к управлению вашими сообществами</p>\r\n                    <p>\r\n                        Для решения этой проблемы перейдите, по{' '}\r\n                        <a target=\"_blank\" rel=\"noopener noreferrer\" href={OAUTH_LINK}>этой ссылке</a>.\r\n                    </p>\r\n                    <p>Разрешите доступ нашему приложению</p>\r\n                    <p>\r\n                        ВКонтакте покажет страницу, сообщающую, что не стоит\r\n                        передавать данные из адресной строки\r\n                    </p>\r\n                    <p>\r\n                        Однако, это абсолютно безопасно в случае с нашим\r\n                        приложением\r\n                    </p>\r\n                    <p>Скопируйте целиком URL и вставьте в поле ниже:</p>\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder={PLACEHOLDER_ACCESS_TOKEN}\r\n                        value={this.state.text}\r\n                        onChange={(e) => {\r\n                            this.changeText(e.target.value)\r\n                        }}\r\n                    />\r\n                    <p>\r\n                        Это необходимо для получения доступа к удалению\r\n                        заблокированных пользователей\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport {InputModal}\r\n","import axios from 'axios'\r\nimport ReactDOM from 'react-dom'\r\nimport {InputModal} from '../app/components/CleanPage/InputModal'\r\nimport swal from 'sweetalert'\r\nimport React from 'react'\r\n\r\nconst VK = window.VK\r\n\r\nconst API_URL = 'https://hot-dog.site/api'\r\n\r\nexport const API = {\r\n    getUserGroups: () => getGroupsPromise,\r\n    getGroupsForClean: () =>\r\n        axios.get(API_URL + '/getPublics', {\r\n            params: {\r\n                user_vk_id: window.user_id,\r\n                auth_key: window.auth_key\r\n            }\r\n        }),\r\n    getGroupDogsCount: (groupID) =>\r\n        axios.get(API_URL + '/getDogsCount', {\r\n            params: {\r\n                id: groupID,\r\n                user_vk_id: window.user_id,\r\n                auth_key: window.auth_key\r\n            }\r\n        }),\r\n    deleteGroupFromCleanQue: (backEndID) => {\r\n        console.log('DELETE REQUEST, id is:', backEndID)\r\n        return axios.delete(API_URL + '/deletePublic', {\r\n            id: backEndID,\r\n            user_vk_id: window.user_id,\r\n            auth_key: window.auth_key\r\n        })\r\n    },\r\n    addGroupToCleanAndGetItData: (publicID) =>\r\n        axios.post(API_URL + '/addPublic', {\r\n            user_vk_id: window.user_id,\r\n            auth_key: window.auth_key,\r\n            vk_id: publicID\r\n        }),\r\n    startCleanTask: (public_ids) =>\r\n        axios.post('https://hot-dog.site/api/startCleanTasks', {\r\n            user_vk_id: window.user_id,\r\n            auth_key: window.auth_key,\r\n            public_ids: public_ids\r\n        }),\r\n    getCleaningTasks: () =>\r\n        axios.get('https://hot-dog.site/api/getCleanTasks', {\r\n            params: {\r\n                user_vk_id: window.user_id,\r\n                auth_key: window.auth_key\r\n            }\r\n        }),\r\n    getFreshPublic: (public_id) =>\r\n        axios.get('https://hot-dog.site/api/refreshPublic', {\r\n            params: {\r\n                user_vk_id: window.user_id,\r\n                auth_key: window.auth_key,\r\n                id: public_id\r\n            }\r\n        }),\r\n    setAccessToken: (token) => axios.patch('https://hot-dog.site/api/setAccessToken', {\r\n        access_token: token,\r\n        user_vk_id: window.user_id,\r\n        auth_key: window.auth_key\r\n    })\r\n}\r\n\r\nconst getGroupsPromise = new Promise((resolve, reject) => {\r\n    VK.init(\r\n        () => {\r\n            VK.api(\r\n                'groups.get',\r\n                {\r\n                    filter: 'moder',\r\n                    extended: '1',\r\n                    fields: 'photo_100',\r\n                    v: '5.85'\r\n                },\r\n                (data) => {\r\n                    const groups = normalizeVKGroupsData(data.response.items)\r\n                    // const groupsCount = data.response.count\r\n                    // console.log(`Got ${groupsCount} publics from VK:`)\r\n                    // console.log(groups)\r\n                    resolve(groups)\r\n                }\r\n            )\r\n        },\r\n        () => {\r\n            console.log('VK API initialization failed')\r\n            reject('Groups fetch failed')\r\n        },\r\n        '5.85'\r\n    )\r\n})\r\n\r\nconst normalizeVKGroupsData = (array) => {\r\n    return array.map(converter)\r\n}\r\n\r\nconst converter = (item) => {\r\n    // noinspection JSUnresolvedVariable\r\n    return {\r\n        avatar_url: item.photo_100,\r\n        id: item.id,\r\n        name: item.name\r\n    }\r\n}\r\n\r\nconst authHeaderDogsAPI = () => {\r\n    return {\r\n        params: {\r\n            user_vk_id: window.user_id,\r\n            auth_key: window.auth_key\r\n        }\r\n    }\r\n}","import {API} from '../../services/services.api'\r\nimport swal from 'sweetalert'\r\nimport axios from 'axios'\r\nimport ReactDOM from 'react-dom'\r\nimport {InputModal} from '../../app/components/CleanPage/InputModal'\r\nimport React from 'react'\r\n\r\nexport const GET_USER_GROUPS = {\r\n    Load: 'groups/USER_GROUPS_LOAD',\r\n    Loaded: 'groups/USER_GROUPS_LOADED',\r\n    Errors: 'groups/USER_GROUPS_ERRORS'\r\n}\r\nexport const ADD_GROUP_IN_CLEAN_QUE = {\r\n    click: 'ADD_GROUP_IN_CLEAN_QUE_CLICK',\r\n    added: 'ADD_GROUP_IN_CLEAN_QUE_ADD_TO_SERVER'\r\n}\r\nexport const GET_DOGS_COUNT = 'GET_DOGS_COUNT '\r\nexport const DELETE_GROUP_FROM_CLEAN_QUE = 'DELETE_GROUP_FROM_CLEAN_QUE'\r\nexport const GET_GROUPS_FOR_CLEAN = {\r\n    Load: 'groups/GET_GROUPS_FOR_CLEAN_LOAD',\r\n    Loaded: 'groups/GET_GROUPS_FOR_CLEAN_LOADED',\r\n    Errors: 'groups/GET_GROUPS_FOR_CLEAN_ERRORS'\r\n}\r\nexport const CLEAN_GROUP_BY_ID = 'CLEAN_GROUP_BY_ID'\r\nexport const UPDATE_CLEANING_STATE = 'UPDATE_CLEANING_STATE'\r\nexport const CLEAN_ALL_GROUPS = 'CLEAN_ALL_GROUPS'\r\n\r\nconst initialState = {\r\n    groups: {\r\n        data: [],\r\n        loadingUserGroups: true,\r\n        loadingCleanTasks: true,\r\n        errors: []\r\n    }\r\n}\r\n\r\nexport default (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case GET_GROUPS_FOR_CLEAN.Load: {\r\n            return {\r\n                ...state,\r\n                groups: {\r\n                    ...state.groups,\r\n                    loadingCleanTasks: true\r\n                }\r\n            }\r\n        }\r\n        case GET_GROUPS_FOR_CLEAN.Loaded: {\r\n            const groupsForClean = action.payload\r\n            groupsForClean.forEach((group) => {\r\n                group.inCleanQue = true\r\n                group.isLoadingInfo = false\r\n                group.cleanData = {\r\n                    isCleaning: false\r\n                }\r\n            })\r\n            return {\r\n                ...state,\r\n                groups: {\r\n                    ...state.groups,\r\n                    data: groupsForClean,\r\n                    loadingCleanTasks: false\r\n                }\r\n            }\r\n        }\r\n        case UPDATE_CLEANING_STATE: {\r\n            const cleanTasks = action.payload\r\n            if (cleanTasks.length === 0) {\r\n                return state\r\n            } else {\r\n                let settedGroups = state.groups.data.map((g) => g)\r\n                settedGroups.forEach((settedGroup) => {\r\n                    cleanTasks.forEach((cleanTask) => {\r\n                        if (settedGroup.backEndID === cleanTask.public_id) {\r\n                            if (cleanTask.status === 'Завершили') {\r\n                                settedGroup.cleanData = {\r\n                                    isCleaning: false\r\n                                }\r\n                            } else {\r\n                                settedGroup.cleanData = {\r\n                                    isCleaning: true,\r\n                                    progress: cleanTask.progress,\r\n                                    status: cleanTask.status\r\n                                }\r\n                            }\r\n                        }\r\n                    })\r\n                })\r\n                return {\r\n                    ...state,\r\n                    groups: {\r\n                        ...state.groups,\r\n                        data: settedGroups\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        case GET_USER_GROUPS.Load: {\r\n            return {\r\n                ...state,\r\n                groups: {\r\n                    ...state.groups,\r\n                    loadingUserGroups: true\r\n                }\r\n            }\r\n        }\r\n        case GET_USER_GROUPS.Loaded: {\r\n            const userGroups = action.payload\r\n            const groupsSetted = state.groups.data\r\n            userGroups.forEach((group) => {\r\n                group.inCleanQue = false\r\n                group.isLoadingInfo = true\r\n            })\r\n            userGroups.forEach((userGroup) => {\r\n                groupsSetted.forEach((settedGroup) => {\r\n                    if (userGroup.id === settedGroup.vk_id) {\r\n                        userGroup.inCleanQue = settedGroup.inCleanQue\r\n                        userGroup.backEndID = settedGroup.id\r\n                        userGroup.dogs = settedGroup.dogs\r\n                        userGroup.followers = settedGroup.followers\r\n                        userGroup.cleanData = settedGroup.cleanData\r\n                    }\r\n                })\r\n            })\r\n            return {\r\n                ...state,\r\n                groups: {\r\n                    data: userGroups,\r\n                    loadingUserGroups: false\r\n                }\r\n            }\r\n        }\r\n        case ADD_GROUP_IN_CLEAN_QUE.click:\r\n            const groupID = action.payload\r\n            let toggledGroups = state.groups.data.map((group) => {\r\n                if (group.id === groupID) {\r\n                    return {\r\n                        ...group,\r\n                        inCleanQue: true,\r\n                        cleanData: {\r\n                            isCleaning: false\r\n                        }\r\n                    }\r\n                } else {\r\n                    return group\r\n                }\r\n            })\r\n            return {\r\n                ...state,\r\n                groups: {\r\n                    ...state.groups,\r\n                    data: toggledGroups\r\n                }\r\n            }\r\n        case ADD_GROUP_IN_CLEAN_QUE.added: {\r\n            const {groupData, groupID} = action.payload\r\n            let groupWithData = state.groups.data.map((group) => {\r\n                if (group.id === groupID) {\r\n                    return {\r\n                        ...group,\r\n                        ...groupData,\r\n                        dogs: 'Анализ...',\r\n                        backEndID: groupData.id\r\n                    }\r\n                } else {\r\n                    return group\r\n                }\r\n            })\r\n            return {\r\n                ...state,\r\n                groups: {\r\n                    ...state.groups,\r\n                    data: groupWithData\r\n                }\r\n            }\r\n        }\r\n        case GET_DOGS_COUNT: {\r\n            const {dogsCount, groupID} = action.payload\r\n            let groupWithDogs = state.groups.data.map((group) => {\r\n                if (group.vk_id === groupID) {\r\n                    return {\r\n                        ...group,\r\n                        dogs: dogsCount\r\n                    }\r\n                } else {\r\n                    return group\r\n                }\r\n            })\r\n            return {\r\n                ...state,\r\n                groups: {\r\n                    ...state.groups,\r\n                    data: groupWithDogs\r\n                }\r\n            }\r\n        }\r\n        case DELETE_GROUP_FROM_CLEAN_QUE: {\r\n            const groupID = action.payload\r\n            let toggledGroups = state.groups.data.map((group) => {\r\n                if (group.id === groupID) {\r\n                    return {...group, inCleanQue: false}\r\n                } else {\r\n                    return group\r\n                }\r\n            })\r\n            return {...state, groups: {...state.groups, data: toggledGroups}}\r\n        }\r\n        case CLEAN_GROUP_BY_ID: {\r\n            let groupID = action.payload\r\n            let withCleanTask = state.groups.data.map((group) => {\r\n                if (group.backEndID === groupID) {\r\n                    return {\r\n                        ...group,\r\n                        cleanData: {\r\n                            isCleaning: true,\r\n                            progress: 0,\r\n                            status: 'Отправляем запрос'\r\n                        }\r\n                    }\r\n                } else {\r\n                    return group\r\n                }\r\n            })\r\n            return {\r\n                ...state,\r\n                groups: {\r\n                    ...state.groups,\r\n                    data: withCleanTask\r\n                }\r\n            }\r\n        }\r\n        case CLEAN_ALL_GROUPS: {\r\n            const allGroupsWithClean = state.groups.data.map((group) => {\r\n                API.startCleanTask([group.backEndID])\r\n                return {\r\n                    ...group,\r\n                    cleanData: {\r\n                        isCleaning: true,\r\n                        progress: 0,\r\n                        status: 'Отправляем запрос'\r\n                    }\r\n                }\r\n            })\r\n            return {\r\n                ...state,\r\n                groups: {\r\n                    ...state.groups,\r\n                    data: allGroupsWithClean\r\n                }\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const cleanAllGroups = (cb, allGroups) => {\r\n    return (dispatch) => {\r\n        const groupsIDs = allGroups.map((g) => {\r\n            return g.backEndID\r\n        })\r\n        API.startCleanTask(groupsIDs).then((res) => {\r\n            switch (res.data.error.id) {\r\n                case 1:\r\n                    getAccessTokenFromUser()\r\n                    break\r\n                case 2:\r\n                    showNotEnoughMoneyModal(res.error.value)\r\n                    break\r\n                default:\r\n                    dispatch({\r\n                        type: CLEAN_ALL_GROUPS\r\n                    })\r\n                    let myInterval = setInterval(() => {\r\n                        API.getCleaningTasks().then((r) => {\r\n                            const cleanTasks = r.data\r\n                            dispatch({\r\n                                type: UPDATE_CLEANING_STATE,\r\n                                payload: cleanTasks\r\n                            })\r\n                            if (cleanTasks.length === 0) {\r\n                                showCommentAlert(cb)\r\n                                clearInterval(myInterval)\r\n                            }\r\n                        })\r\n                    }, 500)\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport const AddGroupInCleanQue = (groupID) => {\r\n    return (dispatch) => {\r\n        dispatch({\r\n            type: ADD_GROUP_IN_CLEAN_QUE.click,\r\n            payload: groupID\r\n        })\r\n        API.addGroupToCleanAndGetItData(groupID).then((r) => {\r\n            const groupData = r.data\r\n            dispatch({\r\n                type: ADD_GROUP_IN_CLEAN_QUE.added,\r\n                payload: {groupData, groupID}\r\n            })\r\n            API.getGroupDogsCount(groupData.id).then((r) => {\r\n                const dogsCount = r.data.dogs_count\r\n                dispatch({\r\n                    type: GET_DOGS_COUNT,\r\n                    payload: {dogsCount, groupID}\r\n                })\r\n            })\r\n        })\r\n    }\r\n}\r\n\r\nexport const cleanGroupByID = (groupID, cb) => {\r\n    return (dispatch) => {\r\n        API.startCleanTask([groupID]).then((res) => {\r\n            if (res.data.error) {\r\n                switch (res.data.error.id) {\r\n                    case 1:\r\n                        getAccessTokenFromUser()\r\n                        break\r\n                    case 2:\r\n                        showNotEnoughMoneyModal(res.error.value)\r\n                        break\r\n                    default:\r\n                }\r\n            } else {\r\n                dispatch({\r\n                    type: CLEAN_GROUP_BY_ID,\r\n                    payload: groupID\r\n                })\r\n                let myInterval = setInterval(() => {\r\n                    API.getCleaningTasks().then((r) => {\r\n                        const cleanTasks = r.data\r\n                        dispatch({\r\n                            type: UPDATE_CLEANING_STATE,\r\n                            payload: cleanTasks\r\n                        })\r\n                        if (cleanTasks.length === 0) {\r\n                            showCommentAlert(cb)\r\n                            clearInterval(myInterval)\r\n                        }\r\n                    })\r\n                }, 500)\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport const DeleteGroupFromCleanQue = (groupID, backEndID) => {\r\n    return (dispatch) => {\r\n        dispatch({\r\n            type: DELETE_GROUP_FROM_CLEAN_QUE,\r\n            payload: groupID\r\n        })\r\n        API.deleteGroupFromCleanQue(backEndID).then((r) => {})\r\n    }\r\n}\r\n\r\nexport const GetGroupsForCleanAndUserGroups = () => {\r\n    return (dispatch) => {\r\n        startLoading(GET_GROUPS_FOR_CLEAN, dispatch)\r\n        API.getGroupsForClean().then((r) => {\r\n            const groupsForClean = r.data\r\n            dispatch({\r\n                type: GET_GROUPS_FOR_CLEAN.Loaded,\r\n                payload: groupsForClean\r\n            })\r\n            let myInterval = setInterval(() => {\r\n                API.getCleaningTasks().then((r) => {\r\n                    const cleanTasks = r.data\r\n                    dispatch({\r\n                        type: UPDATE_CLEANING_STATE,\r\n                        payload: cleanTasks\r\n                    })\r\n                    if (cleanTasks.length === 0) {\r\n                        clearInterval(myInterval)\r\n                    }\r\n                })\r\n            }, 500)\r\n            startLoading(GET_USER_GROUPS, dispatch)\r\n            const groups = API.getUserGroups()\r\n            groups.then((res) => {\r\n                dispatch({type: GET_USER_GROUPS.Loaded, payload: res})\r\n            })\r\n        })\r\n    }\r\n}\r\n\r\nconst startLoading = (loadingProperty, dispatch) => {\r\n    dispatch({\r\n        type: loadingProperty.Load\r\n    })\r\n}\r\n\r\nfunction showCommentAlert(cb) {\r\n    console.log('Comment alert')\r\n    const response = swal({\r\n        title: 'Спасибо!',\r\n        icon: 'success',\r\n        text: 'Оставьте, пожалуйста, отзыв о сервисе :)',\r\n        button: 'Хорошо'\r\n    })\r\n    response.then((r) => {\r\n        console.log('R IS:', r)\r\n        if (r === true) {\r\n            if (cb) {\r\n                cb()\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\nfunction getAccessTokenFromUser() {\r\n    let wrapper = window.document.createElement('div')\r\n    ReactDOM.render(<InputModal />, wrapper)\r\n    let el = wrapper.firstChild\r\n    const response = swal({\r\n        title: 'Упс. Мы не можем очистить ваши сообщества',\r\n        content: el,\r\n        buttons: {\r\n            confirm: {\r\n                text: 'Сохранить и запустить!',\r\n                value: ''\r\n            }\r\n        }\r\n    })\r\n    response.then((r) => {\r\n        const token = getAccessTokenFromLink(r)\r\n        API.setAccessToken(token)\r\n    })\r\n}\r\nfunction showNotEnoughMoneyModal(money) {\r\n    const response = swal({\r\n        title: 'Упс.. Недостаточно денег',\r\n        icon: 'error',\r\n        text: `Для очистки сообществ нужно еще ${money}р.\\nПополните, пожалуйста, баланс`,\r\n        button: {text: 'Пополнить'}\r\n    })\r\n    response.then((r) => {\r\n        if (r === true) {\r\n            // history.push('/add_money')\r\n            console.log('GO TO ADD MONEY')\r\n        }\r\n    })\r\n}\r\n\r\nfunction getAccessTokenFromLink(link) {\r\n    const searchStartStr = '#access_token='\r\n    const searchEndStr = '&expires_in='\r\n    return link.slice(\r\n        link.indexOf(searchStartStr) + searchStartStr.length,\r\n        link.indexOf(searchEndStr)\r\n    )\r\n}","import {combineReducers} from 'redux'\r\nimport clean from './reducer.clean'\r\n\r\nexport default combineReducers({\r\n    clean\r\n})\r\n","import {createStore, applyMiddleware, compose} from 'redux'\r\nimport logger from 'redux-logger'\r\nimport thunk from 'redux-thunk'\r\nimport {createBrowserHistory} from 'history'\r\nimport rootReducer from './reducers/reducer.root'\r\n\r\nexport const history = createBrowserHistory()\r\n\r\nconst middleware = [thunk, logger]\r\nconst devToolsExtension = window.devToolsExtension\r\nconst enhancers = []\r\n\r\nif (typeof devToolsExtension === 'function') {\r\n    enhancers.push(devToolsExtension())\r\n}\r\n\r\nconst composedEnhancers = compose(\r\n    applyMiddleware(...middleware),\r\n    ...enhancers\r\n)\r\n\r\nconst initialState = {}\r\n\r\nconst store = createStore(rootReducer, initialState, composedEnhancers)\r\n\r\nexport default store\r\n","import React, {Component} from 'react'\r\nimport {PublicInfo} from './PublicInfo'\r\nimport {ProgressBar} from './ProgressBar'\r\nimport {PublicAvatar} from './PublicAvatar'\r\nimport './Public.css'\r\nimport PropTypes from 'prop-types'\r\nimport {bindActionCreators} from 'redux'\r\nimport {connect} from 'react-redux'\r\nimport {cleanGroupByID} from '../../../../store/reducers/reducer.clean'\r\nimport {history} from '../../../../store'\r\n\r\nclass Public extends Component {\r\n    static propTypes = {\r\n        id: PropTypes.number.isRequired,\r\n        vk_id: PropTypes.number.isRequired,\r\n        name: PropTypes.string.isRequired,\r\n        avatar_url: PropTypes.string.isRequired,\r\n        followers: PropTypes.number.isRequired,\r\n        dogs: PropTypes.oneOf(PropTypes.number, PropTypes.string).isRequired,\r\n        cleanData: PropTypes.shape({\r\n            isCleaning: PropTypes.bool.isRequired,\r\n            progress: PropTypes.number,\r\n            status: PropTypes.string\r\n        }).isRequired,\r\n        onClean: PropTypes.func.isRequired\r\n    }\r\n\r\n    render() {\r\n        const {backEndID, cleanGroupByID} = this.props;\r\n        return (\r\n            <div className=\"public-wrapper\">\r\n                <div className=\"public\">\r\n                    <div className=\"public__heading\">\r\n                        <PublicAvatar url={this.props.avatar_url} />\r\n                        <div className=\"public__heading__name\">\r\n                            {this.props.name}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"public__info\">\r\n                        {this.props.cleanData.isCleaning ? (\r\n                            <ProgressBar\r\n                                progress={this.props.cleanData.progress}\r\n                                status={this.props.cleanData.status}\r\n                            />\r\n                        ) : (\r\n                            <PublicInfo\r\n                                peopleCount={this.props.followers}\r\n                                deletedPeople={this.props.dogs}\r\n                                onStartClean={() => {\r\n                                    cleanGroupByID(backEndID, () => {history.push(\"/feedback\")})\r\n                                }}\r\n                            />\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({cleanGroupByID}, dispatch)\r\n\r\nexport default connect(null, mapDispatchToProps)(Public);\r\n","import React, {Component} from 'react'\r\nimport * as PropTypes from 'prop-types'\r\n\r\nexport class AddPublicButton extends Component {\r\n    render() {\r\n        return <div\r\n            className=\"btn btn__add\"\r\n            onClick={this.props.onClick}\r\n        >\r\n            Добавить Сообщество\r\n        </div>\r\n    }\r\n}\r\n\r\nAddPublicButton.propTypes = {onClick: PropTypes.func}","import React from 'react'\r\n\r\nexport function VideoGuide() {\r\n    return (\r\n        <iframe\r\n            title={\"video guide\"}\r\n            src=\"//vk.com/video_ext.php?oid=-171466987&id=456239020&hash=2a4b21d6648495d0&hd=1\"\r\n            width=\"426\"\r\n            height=\"210\"\r\n            frameBorder=\"0\"\r\n            allowFullScreen\r\n        />\r\n    )\r\n}","import React, {Component} from 'react'\r\nimport {bindActionCreators} from 'redux'\r\nimport {connect} from 'react-redux'\r\nimport {\r\n    AddGroupInCleanQue,\r\n    DeleteGroupFromCleanQue\r\n} from '../../../../../store/reducers/reducer.clean'\r\n\r\nclass Group extends Component {\r\n    render() {\r\n        const {group, AddGroupInCleanQue, DeleteGroupFromCleanQue} = this.props\r\n        return (\r\n            <div className=\"group\">\r\n                <div className=\"group__details\">\r\n                    <img src={group.avatar_url} alt=\"avatar\" />\r\n                    <span className=\"ellipsis\">{group.name}</span>\r\n                </div>\r\n                <span\r\n                    className={`plus-sign ${\r\n                        group.inCleanQue ? 'plus-sign--cris' : ''\r\n                    }`}\r\n                    onClick={() => {\r\n                        if (group.inCleanQue) {\r\n                            console.log('Group for deleting', group)\r\n                            DeleteGroupFromCleanQue(group.id, group.backEndID)\r\n                        } else {\r\n                            AddGroupInCleanQue(group.id)\r\n                        }\r\n                    }}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({})\r\n\r\nconst mapDispatchToProps = (dispatch) =>\r\n    bindActionCreators(\r\n        {\r\n            AddGroupInCleanQue,\r\n            DeleteGroupFromCleanQue\r\n        },\r\n        dispatch\r\n    )\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(Group)\r\n","import React, {Component} from 'react'\r\nimport './modal.scss'\r\nimport Group from './Group'\r\n\r\nclass GroupsModal extends Component {\r\n    componentDidMount() {\r\n        const html = document.querySelector(\"html\");\r\n        const height = html.scrollHeight;\r\n        document.querySelector('.modal__bg').style.height = `${height}px`\r\n    }\r\n\r\n    render() {\r\n        const {groups, close} = this.props\r\n        return (\r\n            <div className=\"modal\">\r\n                <div className=\"modal__bg\" onClick={close} />\r\n                <div className=\"modal__body\">\r\n                    <div className=\"modal__body__text\">Выберите сообщество</div>\r\n                    <div className=\"modal__body__content\">\r\n                        {groups.map((group) => {\r\n                            return <Group group={group} />\r\n                        })}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default GroupsModal\r\n","import React, {Component} from 'react'\r\nimport {connect} from 'react-redux'\r\nimport PanelControl from './PanelControl/PanelControl'\r\nimport Public from './PublicGroup/Public'\r\nimport {bindActionCreators} from 'redux'\r\nimport {AddPublicButton} from './PublicGroup/AddPublicButton'\r\nimport swal from 'sweetalert'\r\nimport axios from 'axios'\r\nimport {\r\n    GetGroupsForCleanAndUserGroups,\r\n    cleanGroupByID,\r\n    cleanAllGroups\r\n} from '../../../store/reducers/reducer.clean'\r\nimport ReactDOM from 'react-dom'\r\nimport {InputModal} from './InputModal'\r\nimport {VideoGuide} from './VideoGuide'\r\nimport {Redirect} from 'react-router-dom'\r\nimport GroupsModal from './PublicGroup/GroupsModal/GroupsModal'\r\nimport {history} from '../../../store'\r\n\r\nconst CLEAN_TASK_ERRORS = ['Возникла ошибка', 'Завершили'] // errors? finished != error\r\n\r\nconsole.log('styles')\r\n\r\nclass CleanPage extends Component {\r\n    state = {\r\n        publics: [],\r\n        redirect: false,\r\n        isAddGroupOpen: false\r\n    }\r\n\r\n    componentWillMount() {\r\n        const {GetGroupsForCleanAndUserGroups} = this.props\r\n        GetGroupsForCleanAndUserGroups()\r\n    }\r\n\r\n    renderGroups = (groups) => {\r\n        if (!groups.length) return null\r\n        return groups.map(\r\n            (group) => group.inCleanQue && <Public {...group} key={group.id} />\r\n        )\r\n    }\r\n\r\n    async startCleanPublicById(publicID) {\r\n        const {setCleaningStateOnGroupByID} = this.props\r\n        const response = await this.startCleanTasks([publicID])\r\n        if ('error' in response) {\r\n            if (response.error.id === 1) {\r\n                const accessToken = await this.getAccessTokenFromUser()\r\n                await this.setAccessToken(accessToken)\r\n                return await this.onStartClean()\r\n            } else if (response.error.id === 2) {\r\n                await this.showNotEnoughMoneyModal(response.error.value)\r\n            }\r\n        } else {\r\n            setCleaningStateOnGroupByID(publicID)\r\n            // this.setGroups(publics)\r\n            this.timerId = setInterval(async () => {\r\n                await this.updateCleanTasks()\r\n                console.log(this)\r\n                await this.props.updateBalance()\r\n            }, 1500)\r\n        }\r\n    }\r\n\r\n    async onStartClean() {\r\n        const public_ids = this.getPublicIds()\r\n        const response = await this.startCleanTasks(public_ids)\r\n        if ('error' in response) {\r\n            if (response.error.id === 1) {\r\n                const accessToken = await this.getAccessTokenFromUser()\r\n                await this.setAccessToken(accessToken)\r\n                return await this.onStartClean()\r\n            } else if (response.error.id === 2) {\r\n                await this.showNotEnoughMoneyModal(response.error.value)\r\n            }\r\n        } else {\r\n            const publics = this.setCleaningStateOnPublics()\r\n            this.setGroups(publics)\r\n            this.timerId = setInterval(async () => {\r\n                await this.updateCleanTasks()\r\n                await this.props.updateBalance()\r\n            }, 1500)\r\n        }\r\n    }\r\n\r\n    async startCleanTasks(public_ids) {\r\n        return (await axios.post('https://hot-dog.site/api/startCleanTasks', {\r\n            user_vk_id: window.user_id,\r\n            auth_key: window.auth_key,\r\n            public_ids: public_ids\r\n        })).data\r\n    }\r\n\r\n    cleanTaskIsFinished(cleanTask) {\r\n        return CLEAN_TASK_ERRORS.includes(cleanTask.status)\r\n    }\r\n\r\n    getPublicIds() {\r\n        return this.state.publics.map((item) => item.id)\r\n    }\r\n\r\n    async getAccessTokenFromUser() {\r\n        let wrapper = window.document.createElement('div')\r\n        ReactDOM.render(<InputModal />, wrapper)\r\n        let el = wrapper.firstChild\r\n        const response = await swal({\r\n            title: 'Упс. Мы не можем очистить ваши сообщества',\r\n            content: el,\r\n            buttons: {\r\n                confirm: {\r\n                    text: 'Сохранить и запустить!',\r\n                    value: ''\r\n                }\r\n            }\r\n        })\r\n        return this.getAccessTokenFromLink(response)\r\n    }\r\n\r\n    async setAccessToken(token) {\r\n        return await axios.patch('https://hot-dog.site/api/setAccessToken', {\r\n            access_token: token,\r\n            user_vk_id: window.user_id,\r\n            auth_key: window.auth_key\r\n        })\r\n    }\r\n\r\n    async getCleanTasks() {\r\n        return (await axios.get('https://hot-dog.site/api/getCleanTasks', {\r\n            params: {\r\n                user_vk_id: window.user_id,\r\n                auth_key: window.auth_key\r\n            }\r\n        })).data\r\n    }\r\n\r\n    async updateCleanTasks() {\r\n        const cleanTasks = await this.getCleanTasks()\r\n        if (!(cleanTasks && cleanTasks.length)) {\r\n            clearInterval(this.timerId)\r\n            for (const publik of this.state.publics) {\r\n                await this.refreshPublicById(publik.id)\r\n            }\r\n            await this.showCommentAlert()\r\n            return\r\n        }\r\n        const publics = this.addCleanTaskToGroups(\r\n            this.state.publics,\r\n            cleanTasks\r\n        )\r\n        this.setGroups(publics)\r\n    }\r\n\r\n    async refreshPublicById(publicId) {\r\n        const freshPublic = await this.getFreshPublic(publicId)\r\n        freshPublic.cleanData = {\r\n            isCleaning: false\r\n        }\r\n        freshPublic.onClean = async () => {\r\n            await this.startCleanPublicById(freshPublic.id)\r\n        }\r\n        const {publics} = this.state\r\n        const freshPublicIndex = publics.findIndex(\r\n            (item) => item.id === publicId\r\n        )\r\n        publics[freshPublicIndex] = freshPublic\r\n        this.setGroups(publics)\r\n    }\r\n\r\n    async getFreshPublic(public_id) {\r\n        return (await axios.get('https://hot-dog.site/api/refreshPublic', {\r\n            params: {\r\n                user_vk_id: window.user_id,\r\n                auth_key: window.auth_key,\r\n                id: public_id\r\n            }\r\n        })).data\r\n    }\r\n\r\n    getAccessTokenFromLink(link) {\r\n        const searchStartStr = '#access_token='\r\n        const searchEndStr = '&expires_in='\r\n        return link.slice(\r\n            link.indexOf(searchStartStr) + searchStartStr.length,\r\n            link.indexOf(searchEndStr)\r\n        )\r\n    }\r\n\r\n    getPublicById(publics, public_id) {\r\n        return publics.find((item) => item.id === public_id)\r\n    }\r\n\r\n    async showNotEnoughMoneyModal(money) {\r\n        const response = await swal({\r\n            title: 'Упс.. Недостаточно денег',\r\n            icon: 'error',\r\n            text: `Для очистки сообществ нужно еще ${money}р.\\nПополните, пожалуйста, баланс`,\r\n            button: {text: 'Пополнить'}\r\n        })\r\n        if (response) this.setState({redirect: '/add_money'})\r\n    }\r\n\r\n    async showCommentAlert() {\r\n        const response = await swal({\r\n            title: 'Спасибо!',\r\n            icon: 'success',\r\n            text: 'Оставьте, пожалуйста, отзыв о сервисе :)',\r\n            button: 'Хорошо'\r\n        })\r\n        if (response) this.setState({redirect: '/feedback'})\r\n    }\r\n\r\n    toggleModal = () => {\r\n        this.setState({\r\n            isAddGroupOpen: !this.state.isAddGroupOpen\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const {isAddGroupOpen} = this.state\r\n        const {groups, cleanAllGroups} = this.props\r\n\r\n        return (\r\n            <div className=\"clean\">\r\n                <PanelControl\r\n                    onCleanClick={() =>\r\n                        cleanAllGroups(() => {\r\n                            history.push('/feedback')\r\n                        }, groups)\r\n                    }\r\n                />\r\n\r\n                <div className=\"publics\">\r\n                    {groups && this.renderGroups(groups)}\r\n                </div>\r\n\r\n                <AddPublicButton onClick={this.toggleModal} />\r\n\r\n                {isAddGroupOpen && (\r\n                    <GroupsModal close={this.toggleModal} groups={groups} />\r\n                )}\r\n\r\n                <VideoGuide />\r\n\r\n                {this.state.redirect && (\r\n                    <Redirect to={this.state.redirect} push />\r\n                )}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = ({clean}) => ({\r\n    groups: clean.groups.data,\r\n    cleanTasks: clean.cleanTasks\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) =>\r\n    bindActionCreators(\r\n        {\r\n            GetGroupsForCleanAndUserGroups,\r\n            setCleaningStateOnGroupByID: cleanGroupByID,\r\n            cleanAllGroups\r\n        },\r\n        dispatch\r\n    )\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(CleanPage)\r\n","import React, {Component} from 'react'\r\nimport {NavLink} from 'react-router-dom'\r\nimport '../fonts/fontello/fontello.css'\r\n\r\nclass TopBar extends Component {\r\n    render() {\r\n        return (\r\n            <header className=\"nav\">\r\n                <nav>\r\n                    {/*<NavLink className=\"nav__item\" exact to=\"/\">*/}\r\n                    {/*Главная*/}\r\n                    {/*</NavLink>*/}\r\n                    <NavLink className=\"nav__item\" to=\"/clean\">\r\n                        Очистка\r\n                    </NavLink>\r\n                    <NavLink className={\"nav__item\"} to={\"/feedback\"}>Отзывы</NavLink>\r\n                    <NavLink className={\"nav__item\"} to={\"/add_money\"}>Пополнить баланс</NavLink>\r\n                </nav>\r\n                <div>\r\n                    <span className=\"balance\"><i className=\"icon-rouble\"/>{this.props.balance}р</span>\r\n                </div>\r\n            </header>\r\n        )\r\n    }\r\n}\r\n\r\nexport default TopBar\r\n","import React from 'react'\r\nimport './money-page.scss'\r\n\r\nclass AddMoneyPage extends React.Component {\r\n    componentWillMount() {\r\n        this.timerId = window.setInterval(() => {\r\n            this.props.updateBalance()\r\n        }, 1000)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.clearInterval(this.timerId)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"add-money-page\">\r\n                <div className=\"text\">\r\n                    <p>Пополните баланс для очистки сообщества:</p>\r\n                    <div className=\"underline\" />\r\n                </div>\r\n                <form\r\n                    action=\"https://money.yandex.ru/quickpay/confirm.xml\"\r\n                    method=\"post\"\r\n                    target=\"_blank\"\r\n                >\r\n                    <input\r\n                        type=\"hidden\"\r\n                        name=\"receiver\"\r\n                        value=\"410011043655449\"\r\n                    />\r\n                    <input type=\"hidden\" name=\"quickpay-form\" value=\"shop\" />\r\n                    <input type=\"hidden\" name=\"targets\" value=\"Hot Dog\" />\r\n\r\n                    <div className=\"money-input-wrapper\">\r\n                        <p>\r\n                            <label htmlFor=\"money-input\">Сумма:</label>\r\n                        </p>\r\n                        <input\r\n                            type=\"text\"\r\n                            name=\"sum\"\r\n                            placeholder=\"100 руб\"\r\n                            id=\"money-input\"\r\n                            className=\"money-input\"\r\n                            autoComplete=\"false\"\r\n                        />\r\n                        <p>Комиссия — 0%</p>\r\n                    </div>\r\n                    <div className=\"payment-type-wrapper\">\r\n                        <p>Способ оплаты:</p>\r\n                        <label>\r\n                            <input type=\"radio\" name=\"paymentType\" value=\"PC\" />\r\n                            Яндекс.Деньгами\r\n                        </label>\r\n                        <label>\r\n                            <input type=\"radio\" name=\"paymentType\" value=\"AC\" />\r\n                            Банковской картой\r\n                        </label>\r\n                    </div>\r\n                    <input\r\n                        type=\"hidden\"\r\n                        name=\"formcomment\"\r\n                        value=\"hot dog: пополнение баланса\"\r\n                    />\r\n                    <input\r\n                        type=\"hidden\"\r\n                        name=\"short-dest\"\r\n                        value=\"hot dog: пополнение баланса\"\r\n                    />\r\n                    <input\r\n                        type=\"hidden\"\r\n                        name=\"label\"\r\n                        value={`hot-dog: ${window.user_id}`}\r\n                    />\r\n                    <input\r\n                        type=\"hidden\"\r\n                        name=\"successURL\"\r\n                        value=\"https://vk.com/app6731681_-171466987\"\r\n                    />\r\n                    <button type=\"submit\" className=\"submit-button\">\r\n                        Пополнить\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AddMoneyPage\r\n","import React from 'react'\r\nimport './FeedbackPage.css'\r\n\r\nclass FeedbackPage extends React.Component {\r\n    componentWillMount() {\r\n        /*global VK*/\r\n        // noinspection JSUnresolvedVariable, JSUnresolvedFunction\r\n        VK.Widgets.Comments('vk_comments', {\r\n            limit: 10,\r\n            attach: '*',\r\n            height: 800\r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div id=\"vk_comments\" className=\"vk-comments\" />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default FeedbackPage\r\n","import React, {Component, Fragment} from 'react'\r\nimport {Route, Router, Switch} from 'react-router-dom'\r\nimport CleanPage from './components/CleanPage/CleanPage'\r\nimport * as Sentry from '@sentry/browser'\r\nimport TopBar from './components/TopBar'\r\nimport AddMoneyPage from './components/AddMoneyPage/AddMoneyPage'\r\nimport axios from 'axios'\r\nimport FeedbackPage from './components/FeedbackPage/FeedbackPage'\r\nimport {history} from '../store'\r\n\r\nif (process.env.NODE_ENV === 'production') {\r\n    // noinspection JSUnresolvedVariable\r\n    Sentry.init({\r\n        dsn: process.env.REACT_APP_SENTRY_DSN\r\n    })\r\n}\r\n\r\nclass App extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {}\r\n    }\r\n\r\n    setBalance(newBalance) {\r\n        this.setState({balance: newBalance})\r\n    }\r\n\r\n    async componentWillMount() {\r\n        window.user_id = getQueryParam('viewer_id')\r\n        window.auth_key = getQueryParam('auth_key')\r\n        history.push('/')\r\n        await this.updateBalance()\r\n    }\r\n\r\n    async getUserBalance() {\r\n        return (await axios.get('https://hot-dog.site/api/getBalance', {\r\n            params: {\r\n                user_vk_id: window.user_id,\r\n                auth_key: window.auth_key\r\n            }\r\n        })).data.balance\r\n    }\r\n\r\n    componentDidCatch(error, errorInfo) {\r\n        this.setState({error})\r\n        Sentry.withScope((scope) => {\r\n            Object.keys(errorInfo).forEach((key) => {\r\n                scope.setExtra(key, errorInfo[key])\r\n            })\r\n            Sentry.captureException(error)\r\n        })\r\n    }\r\n\r\n    async updateBalance() {\r\n        this.setBalance(await this.getUserBalance())\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Router basename={process.env.PUBLIC_URL} history={history}>\r\n                <Fragment>\r\n                    <TopBar balance={this.state.balance} />\r\n                    <Switch>\r\n                        <Route\r\n                            exact\r\n                            path=\"/\"\r\n                            render={() => (\r\n                                <CleanPage\r\n                                    balance={this.state.balance}\r\n                                    updateBalance={this.updateBalance.bind(\r\n                                        this\r\n                                    )}\r\n                                />\r\n                            )}\r\n                        />\r\n                        <Route path=\"/clean\" component={CleanPage} />\r\n                        <Route\r\n                            path={'/add_money'}\r\n                            render={() => (\r\n                                <AddMoneyPage\r\n                                    updateBalance={this.updateBalance.bind(\r\n                                        this\r\n                                    )}\r\n                                />\r\n                            )}\r\n                        />\r\n                        <Route path={'/feedback'} component={FeedbackPage} />\r\n                        <Route\r\n                            path={'/getToken'}\r\n                            component={() => <div>ACCESS TOKEN MAN</div>}\r\n                        />\r\n                    </Switch>\r\n                </Fragment>\r\n            </Router>\r\n        )\r\n    }\r\n}\r\n\r\nfunction getQueryParam(param) {\r\n    const query = window.location.search.substring(1)\r\n    window.urlParams = query\r\n    const vars = query.split('&')\r\n    for (let i = 0; i < vars.length; i++) {\r\n        const pair = vars[i].split('=')\r\n        if (pair[0] === param) {\r\n            return pair[1]\r\n        }\r\n    }\r\n    throw new Error(`Query Variable ${param} not found`)\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport {Provider} from 'react-redux'\r\nimport App from './app/App'\r\nimport './static/styles/index.scss'\r\nimport store from './store/index'\r\n\r\nconsole.log(\"MESS\");\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n    document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}